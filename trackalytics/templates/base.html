<!-- trackalytics/templates/base.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Trackalytics{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Poppins:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- Add Toastr CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet">
    {% block extra_css %}{% endblock %}
</head>
<body>
<div class="container">
    <aside>
        <div class="menu">
            <div class="logo">
                <img src="{% static 'images/logo.png' %}" alt="Trackalytics Logo">
                <h2>Trackalytics</h2>
            </div>
            <div class="close" id="close-btn">
                <span class="material-symbols-outlined">close</span>
            </div>
        </div>
        <div class="sidebar">
            <h3>Navigation</h3>
            <a href="{% url 'app1:dashboard' %}">
                <span class="material-symbols-outlined">space_dashboard</span>
                <h3>Dashboard</h3>
            </a>
            <a href="{% url 'app1:product_list' %}">
                <span class="material-symbols-outlined">inventory_2</span>
                <h3>Products</h3>
            </a>
            <h3>Inventory</h3>
            <a href="{% url 'app1:inventory' %}">
                <span class="material-symbols-outlined">add</span>
                <h3>Add Inventory</h3>
            </a>
            <a href="{% url 'app1:inventory' %}">
                <span class="material-symbols-outlined">remove</span>
                <h3>Remove Inventory</h3>
            </a>
            <a href="{% url 'app1:inventory' %}">
                <span class="material-symbols-outlined">visibility</span>
                <h3>View Inventory</h3>
            </a>
            <h3>Admin</h3>
            <a href="#"> <!-- Placeholder -->
                <span class="material-symbols-outlined">groups</span>
                <h3>User Management</h3>
            </a>
            <a href="{% url 'app1:reports_exports' %}">
                <span class="material-symbols-outlined">folder</span>
                <h3>Reports & Exports</h3>
            </a>
            <a href="{% url 'app1:activity_log' %}">
                <span class="material-symbols-outlined">history</span>
                <h3>Activity Log</h3>
            </a>
            <a href="{% url 'app1:register' %}"> <!-- Changed from 'settings' -->
                <span class="material-symbols-outlined">person_add</span>
                <h3>Register</h3>
            </a>
            <a href="#">  <!-- Placeholder -->
                <span class="material-symbols-outlined">logout</span>
                <h3>Logout</h3>
            </a>
        </div>
    </aside>

    <main>
        {% block content %}{% endblock %}
</div>

<script src="{% static 'js/main.js' %}"></script>
<!-- Add Toastr JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<!-- Add your realtime inventory JS -->
<script src="{% static 'js/realtime_inventory.js' %}"></script>
<!-- Add CSRF token handling -->
<script>
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}
</script>
{% block extra_js %}{% endblock %}
</body>
</html>